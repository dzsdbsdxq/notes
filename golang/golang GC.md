> 题目序号：2046
>
> 题目来源：腾讯
>
> 频次：同40

答案：fly

**常见的垃圾回收算法**

引用计数：每个对象维护一个引用计数，当被引用对象被创建或被赋值给其他对象时引用计数自动加 +1；如果这个对象被销毁，则计数 -1 ，当计数为 0 时，回收该对象。
优点：对象可以很快被回收，不会出现内存耗尽或到达阀值才回收。
缺点：不能很好的处理循环引用
标记-清除：从根变量开始遍历所有引用的对象，引用的对象标记“被引用”，没有被标记的则进行回收。
优点：解决了引用计数的缺点。
缺点：需要 STW（stop the world），暂时停止程序运行。
分代收集：按照对象生命周期长短划分不同的代空间，生命周期长的放入老年代，短的放入新生代，不同代有不同的回收算法和回收频率。
优点：回收性能好
缺点：算法复杂

**三色标记法**

1. 初始状态下所有对象都是白色的。
2. 从根节点开始遍历所有对象，把遍历到的对象变成灰色对象
3. 遍历灰色对象，将灰色对象引用的对象也变成灰色对象，然后将遍历过的灰色对象变成黑色对象。
4. 循环步骤3，直到灰色对象全部变黑色。
5. 通过写屏障(write-barrier)检测对象有变化，重复以上操作
6. 收集所有白色对象（垃圾）。