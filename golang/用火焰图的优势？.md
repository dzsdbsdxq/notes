> **题目序号：**825
>
> **题目来源**：高德  
>
> **频次**：1 

 **答案1：**（peace）

火焰图（FlameGraph）是 svg 格式的矢量图，是先通过 perf 等工具分析得到结果，并将该结果生成的具有不同层次且支持互动的图片，看起来就像是火焰，这也是它的名字的由来。
如下图：
![avatar](https://image-1302243118.cos.ap-beijing.myqcloud.com/img/34199efbd858680e206c41b618c5ea63.png)

- 需要注意以下几点：

1)纵向（Y 轴）高低不平，表示的是函数调用栈的深度。每一层都是一个函数。调用栈越深，火焰就越高，顶部就是正在执行的函数，下方都是它的父函数。

2)横向（X 轴）表示该函数执行消耗的时间，横向上会按照字母顺序排序，而且如果是同样的调用会做合并（注意：如果一个函数在 X 轴占据的宽度越宽，就表示它被抽到的次数多，即执行的时间长，所以这里不是严格意义上的执行消耗的时间），所以一个横向宽度越大的函数调用，一般很可能是程序的瓶颈。

3)火焰图的颜色是随机分配的，并不是颜色越深就是越瓶颈。因为火焰图表示的是 CPU 的繁忙程度，所以一般都是暖色调。我们需要留意的就是那些比较宽大的火苗。只要有"平顶"，就表示该函数可能存在性能问题。

- 优点：根据火焰图可以很直观地找到性能瓶颈，进而作出改进。